(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(50)},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=(n(36),n(37),n(7)),s=n(8),l=n(10),u=n(9),m=n(11),p=n(16),v="49a3e8d3e3d07290e14ee51a63085f42",h=function(){return"_"+Math.random().toString(36).substr(2,9)},g=(n(42),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getGenresList",value:function(e){var t=this.props.genres;if(t.genresData)return t.genresData.genres.filter(function(t){return e.some(function(e){return e===t.id})})}},{key:"renderGenresList",value:function(e){return e.map(function(e){return r.a.createElement("span",{className:"genre-item",key:h()},e.name)})}},{key:"render",value:function(){var e,t,n=this.props.content,a=n.backdrop_path,c=n.genre_ids,o=(n.id,n.title),i=n.vote_average,s=n.vote_count,l=n.release_date,u=n.overview,m=(n.adult,this.getGenresList(c));return r.a.createElement("div",{className:"col-lg-3 col-md-6 col-12 movies-item"},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:(t=a,t?"".concat("http://image.tmdb.org/t/p/w500").concat(t):"https://via.placeholder.com/255x150?text=Placeholder"),alt:"camera-thumb",className:"img-thumbnail movie-thumb"})),r.a.createElement("h5",{className:"movie-title"},o),r.a.createElement("div",{className:"movie-info"},r.a.createElement("p",{className:"movie-info__genres"},this.renderGenresList(m)),r.a.createElement("p",{className:"movie-info__description"},(e=u).length>80?"".concat(e.substring(0,76),"..."):e),r.a.createElement("div",{className:"movie-info__vote"},r.a.createElement("p",null,"Average rating: ",i),r.a.createElement("p",null,"Votes count: ",s)),r.a.createElement("p",{className:"movie-info__date"},l),r.a.createElement("a",{className:"btn btn-success",href:"#"},"Link")))}}]),t}(a.Component)),d=Object(p.b)(function(e){return{genres:e.genres}})(g),f=(n(43),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderMoviesList",value:function(e){return console.log(e),e?e.results.map(function(e){return r.a.createElement(d,{content:e,key:h()})}):r.a.createElement("div",null,"There are no movies...")}},{key:"renderTemplate",value:function(){var e=this.props,t=e.movies;return e.isFetching?r.a.createElement("p",{className:"loading"},"Loading..."):r.a.createElement("div",{className:"row movies-row"},this.renderMoviesList(t))}},{key:"render",value:function(){return r.a.createElement("section",{className:"movies-wrap"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"movies-wrap-header"},r.a.createElement("h3",{className:"movies-wrap-title"},"Movies"),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search"))),this.renderTemplate()))}}]),t}(a.Component)),b=n(21),E=(n(44),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderNavigationMenuList",value:function(){return this.props.routes.map(function(e){return r.a.createElement("li",{className:"nav-item",key:h()},r.a.createElement(b.b,{exact:e.isExact,activeClassName:"active",className:"nav-link",to:e.path},e.name))})}},{key:"render",value:function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Movies app"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},this.renderNavigationMenuList()))))}}]),t}(a.Component)),y=n(13),j=(n(46),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"About page")}}]),t}(a.Component)),N=(n(47),function(){return r.a.createElement("div",null,"Movie description")}),O=[{isNavBar:!0,isExact:!0,path:"/",name:"Home",component:f},{isNavBar:!0,path:"/about",name:"About",component:j},{isNavBar:!1,path:"/movie/:id",name:"MovieItem",component:N}],k=(n(48),function(){return r.a.createElement("div",{className:""})}),S="REQUEST",_="REQUEST_SUCCESS",w="REQUEST_FAIL",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){t({type:S}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="https://api.themoviedb.org/3/movie/popular?api_key=".concat(v,"&language=").concat("en-US","&page=").concat(e);return fetch(t).then(function(e){return e.json()}).catch(function(e){return console.error(e)})}(e).then(function(e){t({type:_,payload:e})}).catch(function(e){t({type:w,payload:e,error:!0})})}},F="REQUEST1",L="REQUEST_SUCCESS1",x="REQUEST_FAIL1",M=function(){return function(e){e({type:F}),function(){var e="https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(v,"&language=").concat("en-US");return fetch(e).then(function(e){return e.json()}).catch(function(e){return console.error(e)})}().then(function(t){console.log("data",t),e({type:L,payload:t})}).catch(function(t){e({type:x,payload:t,error:!0})})}},D=(n(49),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderSwitchContent",value:function(){return r.a.createElement(y.c,null,O.map(function(e){var t=e.component;return r.a.createElement(y.a,{key:e.path,exact:e.isExact,path:e.path,component:t})}))}},{key:"getGenresListAsync",value:function(){var e=this.props.getGenres;return new Promise(function(t){e(),t(!0)}).catch(function(e){return console.error(e)})}},{key:"componentDidMount",value:function(){var e=this.props.getMovies;this.getGenresListAsync().then(e())}},{key:"render",value:function(){var e=this.props,t=e.movies,n=e.page;return r.a.createElement(b.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{routes:O.filter(function(e){return e.isNavBar})}),r.a.createElement("main",{className:"main"},r.a.createElement(y.c,null,r.a.createElement(y.a,{key:"/",path:"/",render:function(){return r.a.createElement(f,{isFetching:t.isFetching,movies:t.moviesData,page:n})},exact:!0}),"/>",r.a.createElement(y.a,{key:"/about",path:"/about",component:j}),r.a.createElement(y.a,{key:"/movie/:id",path:"/movie/:id",component:N}),r.a.createElement(y.a,{component:k})))))}}]),t}(a.Component)),T=Object(p.b)(function(e){return console.log("store",e),{page:e.page,movies:e.movies,genres:e.genres}},function(e){return console.log(e),{getGenres:function(){return e(M())},getMovies:function(t){return e(C(t))}}})(D),U=n(15),A=n(14),G={moviesData:null,isFetching:!1};var Q={genresData:null,isFetching:!1};var R=Object(U.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(A.a)({},e,{isFetching:!0});case _:return Object(A.a)({},e,{isFetching:!1,moviesData:t.payload});case w:return Object(A.a)({},e,{isFetching:!1,moviesData:null});default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(A.a)({},e,{isFetching:!0});case L:return Object(A.a)({},e,{isFetching:!1,genresData:t.payload});case x:return Object(A.a)({},e,{isFetching:!1,genresData:null});default:return e}}}),B=n(29),I=n.n(B),J=n(30),P=Object(U.d)(R,Object(U.a)(J.a,I.a));o.a.render(r.a.createElement(p.a,{store:P},r.a.createElement(T,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.9578ec2b.chunk.js.map